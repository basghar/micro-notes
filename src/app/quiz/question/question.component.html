<div class="container mt-2">
    <div class="fs-2 fw-semibold">{{ this.quiz?.subject }}</div>
    <p class="mb-0 mt-4" *ngIf="!this.quiz?.finished">
        Progress:
        <span class="fw-bold">
          {{ this.quiz?.attemptedCount() }} of {{ this.quiz?.questions?.length }}
        </span>
        attempted
    </p>
    <p>
        <ngb-progressbar type="success" [value]="25" [striped]="true" height="7.5px" [value]="getProgress()" *ngIf="!this.quiz?.finished"></ngb-progressbar>
    </p>
    <div class="fs-4 fw-bold my-4">{{ this.question?.statement }}</div>

    <div *ngFor="let option of question?.options">
        <div class="option d-flex p-3 .text-dark fw-medium mb-3 gap-2 border {{ this.getAnswerStateBorderClass(option) }} {{ this.getAnswerStateClass(option) }}" (click)="option.selected = !option.selected;">
            <input class="form-check-input" type="checkbox" *ngIf="!this.quiz?.finished" [(ngModel)]="option.selected"/>
            <span class="flex-grow-1">{{ option.possible_answer }}</span>
            
            <i *ngIf="this.quiz?.finished" class="answer-state fa-solid fa-lg fa-fw {{ this.getAnswerStateIconClass(option) }}" style="margin-top: 10px"></i>
        </div>
    </div>

    <div class="d-flex justify-content-end column-gap-3">
        <button type="button" class="btn btn-secondary"  (click)="getPrevQuestion()" *ngIf="showPrevBtn()">
            <i class="fa-solid fa-arrow-left"></i>
            Previous
        </button>
        <button type="button" class="btn btn-primary" (click)="getNextQuestion()" *ngIf="showNextBtn()">
            Next
            <i class="fa-solid fa-arrow-right"></i>
        </button>
        <button type="button" class="btn btn-success" (click)="finishQuizAndShowResult()" *ngIf="this.quiz?.isComplete()">
            <i class="fa-solid fa-flag-checkered"></i>
            {{ quiz?.finished ? 'Show result':'Finish' }}
        </button>
    </div>
</div>
